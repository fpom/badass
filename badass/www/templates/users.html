{% extends "basetpl.html" %}
{% block titlebar %}
<h1>{% block title %}Badass users{% endblock %}</h1>
{% endblock %}
{% block head %}
    <script src="{{ url_for('static', filename='list.min.js') }}"></script>
    <script src="{{ url_for('static', filename='users.js') }}"></script>
{% endblock %}
{% block content %}
    <table id="users">
      <thead>
          <th>#id</th>
          <th><input class="search-firstname" placeholder="first name"></th>
          <th><input class="search-lastname" placeholder="last name"></th>
          <th><input class="search-email" placeholder="e-mail"></th>
          <th><input class="search-group" placeholder="group"></th>
          <th><input class="search-roles" placeholder="roles"></th>
          <th><input class="search-studentid" placeholder="student number"></th>
          <th><input class="search-activated" placeholder="activated"></th>
        </tr>
      </thead>
      <tbody class="list">
        {% for user in users %}
        <tr>
          <td><a href="/user/{{ user.id }}" data-ajax="false">#{{ user.id }}</a></td>
          <td class="firstname">{{ user.firstname }}</td>
          <td class="lastname">{{ user.lastname }}</td>
          <td class="email"><a href="mailto:{{ user.email }}">{{ user.email }}</a></td>
          {% if user.group %}
          <td class="group">{{ user.group }}: {{ groups[user.group] }}</td>
          {% else %}
          <td class="group"></td>
          {% endif %}
          <td class="roles">{{ user.roles|join(", ") }}</td>
          <td class="studentid">{{ user.studentid }}</td>
          <td class="activated">{{ "yes" if user.activated else "no" }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
{% endblock %}
